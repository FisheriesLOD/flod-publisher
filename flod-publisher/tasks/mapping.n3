@prefix sr:   <http://semanticrepository/task#> .
@prefix dct:  <http://purl.org/dc/terms/> . 
@prefix skos: <http://www.w3.org/2004/02/skos/core#> .

<sr:task>                     a sr:Task ;

sr:source_endpoint           <http://168.202.3.223:3030/sr_staging/query> ;

sr:source_graph              <http://semanticrepository/staging/graph/0.01/comet_mapping> ;

sr:publication_endpoint      <http://168.202.3.223:3030/sr_public/update> ;

sr:target_graph              <http://semanticrepository/public/graph/0.01/comet_mapping> ;

#sr:depending_graph          <http://semanticrepository/graph/depending_graph2> ;
#sr:depending_graph          <http://semanticrepository/graph/depending_graph1> ;

dct:creator                  <http://semanticrepository/people/claudio.baldassarre> ;
skos:editorialNote           "Generated by the Semantic Repository LOD maintenance framework" ;

sr:query     """
  PREFIX  skos: <http://www.w3.org/2004/02/skos/core#>
   
  CONSTRUCT 
    { ?sourceT skos:closeMatch ?targetT . ?targetT skos:closeMatch ?sourceT}
 WHERE
   { ?mapping <s:r/SourceElement> ?sourceE .
     ?sourceE <s:r/term> ?sourceT .
     ?mapping <s:r/TargetElementMappings> ?targetM .
     ?targetM <s:r/MappingDetail> ?detail .
     ?detail <s:r/score> ?score .
     ?detail <s:r/TargetElement> ?targetE .
     ?targetE <s:r/term> ?targetT .
     filter (str(?score) > '0.5')
     }""";
.

